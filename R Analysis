# dplyr is used to aggregate variables to create the tidy data.

library(dplyr)



# Download the dataset

Zipurl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(Zipurl, destfile =  "E:/Assignment/dataset.zip")



# Unzip the dataset 

unzip(zipfile =  "E:/Assignment/dataset.zip", exdir =  "E:/Assignment")




# Read the dataset 

features <- read.table("E:/Assignment/UCI HAR Dataset/features.txt", header = FALSE)
activity_level <- read.table("E:/Assignment/UCI HAR Dataset/activity_labels.txt", header = FALSE)

X_test <- read.table("E:/Assignment/UCI HAR Dataset/test/X_test.txt", header = FALSE)
Y_test <- read.table("E:/Assignment/UCI HAR Dataset/test/y_test.txt", header = FALSE)
Subject_test <- read.table("E:/Assignment/UCI HAR Dataset/test/subject_test.txt", header = FALSE)

X_train <- read.table("E:/Assignment/UCI HAR Dataset/train/X_train.txt", header = FALSE)
Y_train <- read.table("E:/Assignment/UCI HAR Dataset/train/y_train.txt", header = FALSE)
Subject_train <- read.table("E:/Assignment/UCI HAR Dataset/train/subject_train.txt", header = FALSE)




X <- rbind(X_test , X_train)
Y <- rbind(Y_test, Y_train)
Subject <- rbind(Subject_test, Subject_train)


colnames(X) <- t(features[2])
colnames(Y) <- "Activity"
colnames(Subject) <- "Subject"


merge_data <- cbind (X, Y, Subject) 
